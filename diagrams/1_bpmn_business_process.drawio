<mxfile host="app.diagrams.net" modified="2025-01-01T00:00:00.000Z" agent="Mozilla/5.0" etag="1" version="21.0.0" type="device">
  <diagram name="BPMN - Построение маршрута" id="bpmn-diagram">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Пул: Пользователь -->
        <mxCell id="pool1" value="Пользователь" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1080" height="120" as="geometry" />
        </mxCell>

        <!-- Пул: Frontend -->
        <mxCell id="pool2" value="Frontend (React)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="160" width="1080" height="120" as="geometry" />
        </mxCell>

        <!-- Пул: Auth Service -->
        <mxCell id="pool3" value="Auth Service (Rust)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="280" width="1080" height="120" as="geometry" />
        </mxCell>

        <!-- Пул: Cache Service -->
        <mxCell id="pool4" value="Cache Service (Go)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="400" width="1080" height="120" as="geometry" />
        </mxCell>

        <!-- Пул: OSRM API -->
        <mxCell id="pool5" value="OSRM API" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="520" width="1080" height="120" as="geometry" />
        </mxCell>

        <!-- Старт -->
        <mxCell id="start" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeColor=#000000;fillColor=#ffffff;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="80" y="85" width="30" height="30" as="geometry" />
        </mxCell>

        <!-- Задача: Открыть приложение -->
        <mxCell id="task1" value="Открыть&#xa;приложение" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="140" y="75" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Задача: Ввести данные -->
        <mxCell id="task2" value="Ввести&#xa;учётные данные" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="250" y="75" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Задача: Добавить точки -->
        <mxCell id="task3" value="Добавить&#xa;точки маршрута" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="580" y="75" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Задача: Просмотр маршрута -->
        <mxCell id="task4" value="Просмотр&#xa;маршрута" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="980" y="75" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Конец -->
        <mxCell id="end" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeColor=#000000;fillColor=#000000;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1080" y="85" width="30" height="30" as="geometry" />
        </mxCell>

        <!-- Frontend: Отобразить форму -->
        <mxCell id="ftask1" value="Отобразить&#xa;форму входа" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="140" y="195" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Frontend: Отправить запрос -->
        <mxCell id="ftask2" value="Отправить&#xa;запрос login" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="250" y="195" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Gateway -->
        <mxCell id="gw1" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="375" y="200" width="40" height="40" as="geometry" />
        </mxCell>

        <!-- Frontend: Отобразить карту -->
        <mxCell id="ftask3" value="Отобразить&#xa;карту" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="470" y="195" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Frontend: Запросить тайлы -->
        <mxCell id="ftask4" value="Запросить&#xa;тайлы" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="580" y="195" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Frontend: Запросить маршрут -->
        <mxCell id="ftask5" value="Запросить&#xa;маршрут" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="760" y="195" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Frontend: Отобразить маршрут -->
        <mxCell id="ftask6" value="Отобразить&#xa;маршрут" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="870" y="195" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Auth: Проверить данные -->
        <mxCell id="atask1" value="Проверить&#xa;учётные данные" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="250" y="315" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Auth: Выдать токен -->
        <mxCell id="atask2" value="Выдать&#xa;JWT токен" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="355" y="315" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Cache: Проверить кеш -->
        <mxCell id="ctask1" value="Проверить&#xa;кеш" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="580" y="435" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Cache: Вернуть тайл -->
        <mxCell id="ctask2" value="Вернуть&#xa;тайл" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="690" y="435" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- OSRM: Рассчитать маршрут -->
        <mxCell id="otask1" value="Рассчитать&#xa;маршрут" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="760" y="555" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- OSRM: Вернуть геометрию -->
        <mxCell id="otask2" value="Вернуть&#xa;геометрию" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#ffffff;fontColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="870" y="555" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Стрелки -->
        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="start" target="task1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="task1" target="task2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="task1" target="ftask1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="task2" target="ftask2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="ftask2" target="atask1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="atask1" target="atask2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="atask2" target="gw1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="gw1" target="ftask3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="ftask3" target="ftask4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="ftask3" target="task3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="ftask4" target="ctask1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="ctask1" target="ctask2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="task3" target="ftask5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="ftask5" target="otask1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="otask1" target="otask2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="otask2" target="ftask6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="ftask6" target="task4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="task4" target="end">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
